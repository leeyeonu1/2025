import streamlit as st
import pandas as pd

# 앱 제목 설정
st.title('🐶 강아지 식재료 안전 체크')
st.write('식재료를 입력하면 강아지가 섭취 가능한지 알려드립니다!')

# 강아지가 먹을 수 있는/없는 음식 데이터베이스 (기존 + 한국 식재료 추가)
dog_food_db = {
    # 기존 데이터
    '사과': {'섭취가능': True, '효능': '비타민 C와 식이섬유가 풍부하며 간식으로 좋습니다. 단, 씨는 제거해야 합니다.'},
    '포도': {'섭취가능': False, '효능': '강아지에게 신부전과 같은 심각한 건강 문제를 일으킬 수 있습니다.'},
    '당근': {'섭취가능': True, '효능': '비타민 A가 풍부하고 치아 건강에 좋습니다.'},
    '초콜릿': {'섭취가능': False, '효능': '테오브로민 성분이 강아지에게 유독하여 심장 문제, 발작 등을 유발할 수 있습니다.'},
    '닭고기': {'섭취가능': True, '효능': '단백질이 풍부하며 소화가 잘 됩니다. 뼈는 제거하고 주어야 합니다.'},
    '양파': {'섭취가능': False, '효능': '적혈구를 손상시키고 빈혈을 유발할 수 있습니다.'},
    '마늘': {'섭취가능': False, '효능': '양파와 같은 계열로 적혈구 손상을 일으킬 수 있습니다.'},
    '브로콜리': {'섭취가능': True, '효능': '비타민이 풍부하고 항암 효과가 있습니다.'},
    '아보카도': {'섭취가능': False, '효능': '페르신 성분이 강아지에게 유독할 수 있습니다.'},
    '연어': {'섭취가능': True, '효능': '오메가-3 지방산이 풍부하여 피부와 모질에 좋습니다.'},
    '견과류': {'섭취가능': False, '효능': '고지방이며 소화가 어렵고 일부는 독성이 있을 수 있습니다.'},
    '계란': {'섭취가능': True, '효능': '단백질이 풍부하며 완전히 익혀서 주는 것이 좋습니다.'},
    '치즈': {'섭취가능': True, '효능': '칼슘이 풍부하지만 소량만 주어야 합니다. 락토스 불내증이 있을 수 있습니다.'},
    '바나나': {'섭취가능': True, '효능': '칼륨과 비타민이 풍부하며 적당량은 건강에 좋습니다.'},
    '자일리톨': {'섭취가능': False, '효능': '인슐린 분비를 촉진해 저혈당을 일으킬 수 있으며 치명적일 수 있습니다.'},
    
    # 한국 식재료 추가
    '고추': {'섭취가능': False, '효능': '매운 성분이 강아지의 위장을 자극하고 불편함을 줄 수 있습니다.'},
    '대파': {'섭취가능': False, '효능': '양파과 식물로 적혈구 손상을 일으킬 수 있습니다.'},
    '깻잎': {'섭취가능': True, '효능': '소량은 괜찮으나 과다 섭취 시 소화 문제를 일으킬 수 있습니다.'},
    '미나리': {'섭취가능': True, '효능': '비타민이 풍부하고 소화에 도움이 됩니다. 적당량을 주세요.'},
    '간장': {'섭취가능': False, '효능': '나트륨 함량이 높아 신장에 부담을 줄 수 있습니다.'},
    '참기름': {'섭취가능': True, '효능': '소량은 피모에 좋지만, 고지방이므로 소량만 주세요.'},
    '고춧가루': {'섭취가능': False, '효능': '위장 자극과 소화 문제를 일으킬 수 있습니다.'},
    '된장': {'섭취가능': False, '효능': '소금 함량이 높아 신장에 부담을 줄 수 있습니다.'},
    '김치': {'섭취가능': False, '효능': '마늘, 양파, 고추 등 강아지에게 해로운 성분이 포함되어 있습니다.'},
    '쌀': {'섭취가능': True, '효능': '소화가 잘 되며 알레르기 반응이 적어 강아지에게 좋은 탄수화물 공급원입니다.'},
}

# 사용자 입력 받기
food_input = st.text_input('확인하고 싶은 식재료를 입력하세요:')

# 검색 버튼
if st.button('확인하기'):
    if food_input:
        food_input = food_input.strip()
        
        # 데이터베이스에서 검색
        if food_input in dog_food_db:
            info = dog_food_db[food_input]
            
            # 결과 표시
            if info['섭취가능']:
                st.success(f'✅ {food_input}은(는) 강아지가 먹어도 괜찮습니다!')
                st.info(f'💡 효능: {info["효능"]}')
            else:
                st.error(f'❌ {food_input}은(는) 강아지에게 위험합니다!')
                st.warning(f'⚠️ 위험성: {info["효능"]}')
        else:
            st.warning(f'{food_input}에 대한 정보가 데이터베이스에 없습니다.')
            st.info('더 많은 식재료 정보를 추가하고 있습니다. 나중에 다시 확인해주세요.')
    else:
        st.warning('식재료를 입력해주세요')
        
